<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0 from src/site/markdown/repositories.md at 2026-01-18
 | Rendered using Apache Maven Fluido Skin 2.1.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0" />
    <title>Repository Types – Mock Repository Manager Maven Plugin</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-2.1.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-2.1.0.min.js"></script>
    <!-- Matomo -->
    <script>
        var _paq = window._paq = window._paq || [];
        _paq.push(['disableCookies']);
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);

        (function() {
            var u="https://analytics.apache.org/";
            _paq.push(['setTrackerUrl', u+'/matomo.php']);
            _paq.push(['setSiteId', '18']);
            var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
            g.async=true; g.src=u+'/matomo.js'; s.parentNode.insertBefore(g,s);
        })();
    </script>
    <!-- End Matomo Code -->
    <style>.github-fork-ribbon:before { background-color: gray; }</style>
  </head>
  <body>
    <a class="github-fork-ribbon right-top" href="https://github.com/mojohaus/mrm-maven-plugin" data-ribbon="Fork me on GitHub">Fork me on GitHub</a>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1><a href="../../"><img src="../../images/mojo_logo.png" alt="MojoHaus" /></a></h1></div></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
      <li><a href="../../">MojoHaus</a><span class="divider">/</span></li>
      <li><a href="..">Mock Repository Manager :: Project</a><span class="divider">/</span></li>
      <li><a href="index.html">Mock Repository Manager Maven Plugin</a><span class="divider">/</span></li>
    <li class="active">Repository Types <a href="https://github.com/mojohaus/mrm/tree/master/mrm-maven-plugin/src/site/markdown/repositories.md"><img src="./images/accessories-text-editor.png" alt="Edit" /></a></li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2026-01-18</li>
          <li id="projectVersion" class="pull-right"><span class="divider">|</span>Version: 1.7.1</li>
        <li class="pull-right"><a href="https://maven.apache.org/">Maven</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Parent Project</li>
    <li><a href="../index.html">Mock Repository Manager :: Project</a></li>
   <li class="nav-header">Overview</li>
    <li><a href="index.html">Introduction</a></li>
    <li><a href="plugin-info.html">Goals</a></li>
    <li><a href="usage.html">Usage</a></li>
    <li class="active"><a>Repository Types</a></li>
   <li class="nav-header">Examples</li>
    <li><a href="examples/invoker-tests.html">Using with Maven Invoker (download)</a></li>
    <li><a href="examples/invoker-tests-dist.html">Using with Maven Invoker (upload)</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
<a href="https://maven.apache.org/" class="builtBy" target="_blank"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span10">
<!---
Copyright MojoHaus and contributors

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<section><a id="Repository_Types"></a>
<h1>Repository Types</h1>
<p>The <code>repositories</code> parameter allows you to configure one or more repository types that the Mock Repository Manager will serve. When multiple repositories are specified, they are merged into a single view.</p>
<p>If no repositories are specified, a <code>proxyRepo</code> is used by default to proxy through the current Maven session.</p><section><a id="Available_Repository_Types"></a>
<h2>Available Repository Types</h2><section><a id="mockRepo"></a>
<h3>mockRepo</h3>
<p>A mock Maven repository that serves content from a local directory structure with specific file patterns.</p>
<p><strong>Parameters:</strong></p>
<ul>

<li><code>source</code> (required) - The directory containing the mock repository content</li>
<li><code>cloneTo</code> (optional) - Clone the source to a specific directory (useful for directory-based archives)</li>
<li><code>cloneClean</code> (optional) - Ensure the cloneTo folder is cleaned before every run (default: false)</li>
<li><code>lazyArchiver</code> (optional) - Set to <code>false</code> to archive directories at startup, or <code>true</code> to archive when used (default: false)</li>
</ul>
<p><strong>Example:</strong></p>

<pre class="prettyprint"><code class="language-xml">&lt;repositories&gt;
  &lt;mockRepo&gt;
    &lt;source&gt;src/it/mrm/repository&lt;/source&gt;
    &lt;cloneTo&gt;target/mock-repo&lt;/cloneTo&gt;
    &lt;cloneClean&gt;true&lt;/cloneClean&gt;
    &lt;lazyArchiver&gt;false&lt;/lazyArchiver&gt;
  &lt;/mockRepo&gt;
&lt;/repositories&gt;
</code></pre>
<p><strong>Supported File Patterns:</strong></p>
<p>The mockRepo recognizes the following file patterns in the source directory:</p>
<ul>

<li><code>**/*.pom</code> - Maven POM files</li>
<li><code>**/*-{classifier}.{type}</code> - Artifacts with classifiers (e.g., <code>mojo-parent-10-site.xml</code>)</li>
<li><code>**/*.{archiver extension}</code> - Directory archives using the GAV from the corresponding POM</li>
<li><code>**/*-{classifier}.{archiver extension}</code> - Directory archives with classifiers</li>
<li><code>archetype-catalog.xml</code> - Archetype catalog</li>
</ul>
<p>Supported archiver extensions include: <code>jar</code>, <code>zip</code>, <code>tar.gz</code>, <code>tgz</code>, <code>tar.xz</code>, and other formats supported by <a href="https://codehaus-plexus.github.io/plexus-archiver/" class="externalLink">Plexus Archiver</a>.</p></section><section><a id="localRepo"></a>
<h3>localRepo</h3>
<p>A locally stored Maven repository that serves content from a directory on the filesystem.</p>
<p><strong>Parameters:</strong></p>
<ul>

<li><code>source</code> (required) - The directory containing the local repository (standard Maven repository layout)</li>
</ul>
<p><strong>Example:</strong></p>

<pre class="prettyprint"><code class="language-xml">&lt;repositories&gt;
  &lt;localRepo&gt;
    &lt;source&gt;${project.build.directory}/local-repo&lt;/source&gt;
  &lt;/localRepo&gt;
&lt;/repositories&gt;
</code></pre>
<p><strong>Use Cases:</strong></p>
<ul>

<li>Serving artifacts installed by <code>maven-invoker-plugin:install</code></li>
<li>Using an existing local repository as a test repository</li>
<li>Combining with other repository types to provide additional artifacts</li>
</ul></section><section><a id="proxyRepo"></a>
<h3>proxyRepo</h3>
<p>A proxy repository that serves content from the current Maven session's configured repositories.</p>
<p><strong>Parameters:</strong></p>
<p>None - this repository type has no configuration parameters.</p>
<p><strong>Example:</strong></p>

<pre class="prettyprint"><code class="language-xml">&lt;repositories&gt;
  &lt;proxyRepo/&gt;
&lt;/repositories&gt;
</code></pre>
<p><strong>Behavior:</strong></p>
<p>When used, the proxyRepo forwards requests to all repositories configured in the current Maven build, including:</p>
<ul>

<li>Repositories from the POM</li>
<li>Repositories from active profiles</li>
<li>Repositories from settings.xml</li>
</ul>
<p>This is useful for providing access to Maven Central and other remote repositories during integration tests.</p></section><section><a id="hostedRepo"></a>
<h3>hostedRepo</h3>
<p>A repository used for distribution management that accepts uploaded artifacts (writable repository).</p>
<p><strong>Parameters:</strong></p>
<ul>

<li><code>target</code> (required) - The directory where uploaded files will be stored</li>
</ul>
<p><strong>Example:</strong></p>

<pre class="prettyprint"><code class="language-xml">&lt;repositories&gt;
  &lt;hostedRepo&gt;
    &lt;target&gt;target/hosted-repo&lt;/target&gt;
  &lt;/hostedRepo&gt;
&lt;/repositories&gt;
</code></pre>
<p><strong>Use Cases:</strong></p>
<ul>

<li>Testing artifact deployment with <code>mvn deploy</code></li>
<li>Testing distribution management configuration</li>
<li>Verifying that artifacts are correctly uploaded</li>
</ul>
<p><strong>Note:</strong> This repository type is writable, unlike the other repository types which are read-only.</p></section></section><section><a id="Combining_Multiple_Repositories"></a>
<h2>Combining Multiple Repositories</h2>
<p>You can combine multiple repository types to create a composite view:</p>

<pre class="prettyprint"><code class="language-xml">&lt;configuration&gt;
  &lt;repositories&gt;
    &lt;!-- Mock repository with test artifacts --&gt;
    &lt;mockRepo&gt;
      &lt;source&gt;src/it/mrm/repository&lt;/source&gt;
    &lt;/mockRepo&gt;
    
    &lt;!-- Local repository with built artifacts --&gt;
    &lt;localRepo&gt;
      &lt;source&gt;${project.build.directory}/local-repo&lt;/source&gt;
    &lt;/localRepo&gt;
    
    &lt;!-- Proxy to Maven Central and other configured repositories --&gt;
    &lt;proxyRepo/&gt;
  &lt;/repositories&gt;
&lt;/configuration&gt;
</code></pre>
<p>When multiple repositories are configured, the Mock Repository Manager searches them in order and returns the first match found.</p></section><section><a id="Default_Configuration"></a>
<h2>Default Configuration</h2>
<p>If the <code>repositories</code> parameter is not specified or is empty, the plugin defaults to:</p>

<pre class="prettyprint"><code class="language-xml">&lt;repositories&gt;
  &lt;proxyRepo/&gt;
&lt;/repositories&gt;
</code></pre>
<p>This provides a pass-through to the current Maven instance's repositories.</p></section></section>        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>©      2009–2026
<a href="https://www.mojohaus.org">MojoHaus</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>